---
title: "Plotly"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(p8105.datasets)
library(plotly)
```



```{r}
data("rest_inspec")

mht_chinese = rest_inspec %>% 
  filter(
    boro == "MANHATTAN", str_detect(cuisine_description, "[Cc][Hh][Ii][Nn][Ee][Ss][Ee]"))


plotly_mc = mht_chinese %>% 
  filter(grade %in% c("A", "B", "C", "P", "Z")) %>% 
  mutate(
    text_label = str_c("Grade: ", grade, "\nScore: ", score)
  ) %>% 
  plot_ly(
    x = ~score, y = ~grade, color = ~action,
    type = "scatter", mode = "markers",
    alpha = 1, text = ~text_label
  )

plotly_mc = plotly_mc %>% layout(legend = list(orientation = 'h'))
```

